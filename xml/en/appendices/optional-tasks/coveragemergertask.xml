<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry [
    <!ENTITY % entities SYSTEM "../../entities.ent">
    %entities;
]>
<refentry
        xml:id="phing.optionaltasks.coveragemerger"
        xmlns="http://docbook.org/ns/docbook">

    <refnamediv>
        <refname>CoverageMergerTask</refname>
        <refpurpose>The CoverageMergerTask merges code coverage information from external sources with an existing code coverage database.</refpurpose>
    </refnamediv>

    <refsect1 role="note">
        <title>&ref.title.note;</title>
        <para>
            The format of the code coverage files is expected to be identical to:
        </para>
        <programlisting language="php"><![CDATA[
file_put_contents('/www/live/testcases/coverage.data', serialize(xdebug_get_code_coverage));
]]></programlisting>
    </refsect1>


    <refsect1 role="example">
        <title>&ref.title.example;</title>
        <programlisting language="xml"><![CDATA[
<coverage-merger>
  <fileset dir="/www/live/testcases">
    <include name="**/*.data"/>
  </fileset>
</coverage-merger>
]]></programlisting>
    </refsect1>


    <refsect1 role="nested">
        <title>&ref.title.supportedNestedTags;</title>
        <para>
            <simplelist>
                <member>
                    <link linkend="phing.fileset">Fileset</link>
                </member>
            </simplelist>
        </para>
    </refsect1>

</refentry>